{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript">
        URL_NYT_GET_NEW = "{% url "nyt:json_get" %}";
        URL_NYT_MARK_READ = "{% url "nyt:json_mark_read_base" %}";
        URL_NYT_GOTO = "{% url "nyt:goto_base" %}";
    </script>
    <!-- A custom script that you need to implement yourself using example code below -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="{% static 'js/ui.js' %}"></script>
</head>
<body>
<h1>Hello websocket</h1>


</body>
<h2>Notifications:</h2>
<ul>
  <li class="notification-before-list">Notifications (<span class="badge notification-cnt">0</span>):</li>
{#  <li class="notifications-empty"><a href="#"><em>{% trans "No notifications" %}</em></a></li>#}
</ul>

<a href="#" onclick="nyt_mark_read()">
  <i class="icon-check"></i>
{#  {% trans "Clear notifications list" %}#}
</a>
{#<script>#}
{#    var loc = window.location;#}
{#    var wsStart = 'ws://';#}
{#    if (loc.protocol == 'https:') {#}
{#        wsStart = 'wss://';#}
{#    }#}
{#    console.log(loc.pathname)#}
{##}
{#    var endpoint = wsStart + loc.host + "/post_notifications/";#}
{#    var socket = new WebSocket(endpoint);#}
{##}
{#    socket.onmessage = function (e) {#}
{#        const data = JSON.parse(e.data);#}
{#        console.log("socket onmessage", data);#}
{##}
{##}
{#    }#}
{#    socket.onopen = function (e) {#}
{#        console.log("socket onopen", e);#}
{#    }#}
{#    socket.onerror = function (e) {#}
{#        console.log("socket onerror", e);#}
{#    }#}
{#    socket.onclose = function (e) {#}
{#        console.log("socket onclose", e);#}
{#    }#}
{##}
{#</script>#}

</html>